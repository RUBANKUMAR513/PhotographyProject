{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{% static 'logos/vickytitlelogo.png' %}" type="image/x-icon">
    <title>UserLogin | VickyneoPhotography</title>

    <!-- Link to Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Other stylesheets can go here -->
    <link rel="stylesheet" href="{% static 'css/Adminlogin.css' %}">
</head>
<body>
   
   
    <div class="error-message-container" id="error-container">
        
          <div class="error-message-top"></div>
      
    </div>
    
    <div class="success-message-container" id="otp-success">
        <div></div>
    </div>
    
    <div id="content" class="login-container">
      <div class="logo-container">
        <a href="/home/">
              <img src="{% static 'logos/vickylogo.jpg' %}" alt="Logo" class="logo">
        </a>
      </div>

      <h2 class="welcome-text">Vickyneo Photography</h2>
      
      <form method="post" action="" class="login-form">
       
        <div class="form-row">
          <div class="input-container">
            <input type="text" placeholder="Enter Username" class="form-input">
            <i class="fas fa-user icon"></i>
          </div>
          <div class="error-message">
           
          </div>
        </div>

        <div class="form-row">
          <div class="input-container">
            <input type="password" placeholder="Enter Password" class="form-input">
            <i class="fas fa-lock icon"></i>
          </div>
          <div class="error-message">
           
          </div>
        </div>

        <div class="submit-row">
          <input type="submit" value="{% trans 'Log in' %}" class="default btn submit-btn">
        </div>
      </form>
    </div>
    <script>
     document.getElementById('send-otp-btn').addEventListener('click', function() {
            const sendOtpBtn = this;
            let timer = 30;
            const successMessage = document.getElementById('otp-success');

            // Disable the button and show the success message
            sendOtpBtn.disabled = true;
            sendOtpBtn.innerText = `Re-send OTP in ${timer}s`;
            successMessage.style.display = 'block';

            // Hide the success message after 5 seconds
            setTimeout(function() {
                successMessage.style.display = 'none';
            }, 5000);

            // Start countdown timer
            const countdown = setInterval(function() {
                timer--;
                sendOtpBtn.innerText = `Re-send OTP in ${timer}s`;

                if (timer <= 0) {
                    clearInterval(countdown);
                    sendOtpBtn.disabled = false;
                    sendOtpBtn.innerText = "Re-send OTP";
                }
            }, 1000);
        });
    
      // Show error message container and hide after 5 seconds
      window.onload = function() {
        const errorContainer = document.getElementById('error-container');
        const errorMessages = document.querySelectorAll('.error-message');
    
        if (errorContainer) {
          // Display the error container
          errorContainer.style.display = 'block';
    
          // Set a timeout to hide both the container and individual error messages
          setTimeout(function() {
            errorContainer.style.display = 'none';
            errorMessages.forEach(function(error) {
              error.style.display = 'none';
            });
          }, 5000); // Hide after 5 seconds
        }
      };
    </script>
</body>
</html>
