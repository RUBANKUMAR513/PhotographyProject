<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Mansalva&display=swap" rel="stylesheet">
    <!-- Inline CSS -->
    <style>
        /* General Styles */
        body {
            font-family: 'Mansalva', cursive, Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }

        main {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .container-heading {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            color: #333;
        }

        /* Image Container Styles */
        .image-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .image-box {
            position: relative;
            background-color: #fff;
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .image-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

            .image-box img {
            width: 100%;
            height: 200px; /* Set a fixed height */
            object-fit: cover; /* Ensure the image covers the entire area */
            border-bottom: 1px solid #ddd;
        }


        /* Button Group for Image Icons */
        .button-group {
            display: flex;
            justify-content: center;
            /* margin: 15px; */
           
        }

        .icon-container {
            position: relative;
            cursor: pointer;
            margin: 5px;
        }

        .icon-container i {
            font-size: 1.5rem;
            color: #555;
            transition: color 0.3s;
        }

        .icon-container:hover i {
            color: #ff4081;
        }

        .tooltip {
            visibility: hidden;
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 5px;
            border-radius: 4px;
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
            z-index: 1;
        }

        .icon-container:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }

        /* Heart Icon for Favorite Selection */
        .heart-icon {
            color: #999;
        }

        .heart-icon.filled {
            color: #ff4081;
        }

        /* Selected Images Section */
        .selected-images-container {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .selected-images-container .image-box {
            min-width: 250px;
            position: relative;
        }

        .selected-images-container .remove-icon {
            color: #ff4081;
            font-size: 1.5rem;
         
            cursor: pointer;
        }

        .no-images {
            font-size: 1rem;
            color: #666;
            text-align: center;
            width: 100%;
        }

        /* Pagination Controls */
        .pagination-controls {
            text-align: center;
            margin: 20px 0;
        }

        .page-btn {
            background-color: #ff4081;
            color: #fff;
            border: none;
            padding: 10px 15px;
            margin: 0 5px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .page-btn.active {
            background-color: #ff6580;
        }

        .page-btn:hover {
            background-color: #ff6580;
        }

        /* Fullscreen Overlay */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .fullscreen-overlay img {
            max-width: 80%;
            max-height: 80%;
            border-radius: 10px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            color: #fff;
            cursor: pointer;
        }

        /* Save Button */
        .save-btn {
            display: block;
            width: 100%;
            background-color: #ff4081;
            color: white;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.2rem;
            cursor: pointer;
            text-align: center;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .save-btn:hover {
            background-color: #ff6580;
        }

        @media (max-width: 600px) {
            .image-container {
                grid-template-columns: 1fr;
            }

            .button-group {
                justify-content: space-around;
            }

            .selected-images-container {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
<main class="main" id="home">
    <!-- Gallery heading -->
    <div id="gallery" class="container-heading">Gallery</div>
    
    <!-- Container for displaying images -->
    <div id="imageContainer" class="image-container"></div>

    <!-- Pagination controls -->
    <div id="pagination" class="pagination-controls"></div>

    <!-- Favorites heading -->
    <div id="favorites" class="container-heading">Favorites</div>

    <!-- Container for selected images -->
    <div id="selectedImagesContainer" class="selected-images-container">
        <p class="no-images">No images selected</p>
    </div>

    <!-- Submit button for saving selected images -->
    <button class="save-btn" onclick="saveSelection()">Submit</button>

    <!-- Fullscreen overlay for viewing images -->
    <div id="fullscreenOverlay" class="fullscreen-overlay" style="display: none;">
        <i class="close-btn fas fa-times" onclick="closeFullscreen()"></i>
        <img id="fullscreenImage" src="" alt="Fullscreen Image">
    </div>
</main>

<!-- JavaScript -->
<script>
    let selectedImages = JSON.parse(localStorage.getItem('selectedImages')) || [];
    let currentPage = 1;
    const imagesPerPage = 8;

    // Example image data
    const images = [
        { id: '1', src: "test1.jpg", alt: "Image 1" },
        { id: '2', src: "test2.jpg", alt: "Image 2" },
        { id: '3', src: "test3.jpg", alt: "Image 3" },
        { id: '4', src: "test4.jpg", alt: "Image 4" },
        { id: '5', src: "marriage.jpg", alt: "Image 5" },
        { id: '6', src: "marriage1.jpg", alt: "Image 6" },
        { id: '7', src: "marriage2.jpg", alt: "Image 7" },
        { id: '8', src: "marriage3.jpg", alt: "Image 8" },
        { id: '9', src: "marriage4.jpg", alt: "Image 9" },
        { id: '10', src: "baby1_alt1.jpg", alt: "Image 10" }
    ];

    window.onload = function () {
        displayImages(currentPage);
        setupPagination();
        updateSelectedImagesContainer();
        preventRightClick();
        preventScreenshots();
    };

    // Function to display images on the current page
    function displayImages(page) {
        const imageContainer = document.getElementById("imageContainer");
        imageContainer.innerHTML = "";

        const start = (page - 1) * imagesPerPage;
        const end = start + imagesPerPage;
        const currentImages = images.slice(start, end);

        currentImages.forEach(image => {
            const imageBox = document.createElement('div');
            imageBox.classList.add('image-box');
            imageBox.setAttribute('data-id', image.id);

            const img = document.createElement('img');
            img.src = image.src;
            img.alt = image.alt;
            img.addEventListener('contextmenu', function (e) {
                e.preventDefault();
            });

            const buttonGroup = document.createElement('div');
            buttonGroup.classList.add('button-group');

            // Heart Icon
            const heartContainer = document.createElement('div');
            heartContainer.classList.add('icon-container');
            const heartIcon = document.createElement('i');
            heartIcon.classList.add('heart-icon', 'fas', 'fa-heart');
            if (selectedImages.includes(image.id)) {
                heartIcon.classList.add('filled');
                imageBox.classList.add('selected');
            }
            const heartTooltip = document.createElement('div');
            heartTooltip.classList.add('tooltip');
            heartTooltip.textContent = 'Favorite';
            heartContainer.appendChild(heartIcon);
            heartContainer.appendChild(heartTooltip);

            // View Icon
            const viewContainer = document.createElement('div');
            viewContainer.classList.add('icon-container');
            const viewIcon = document.createElement('i');
            viewIcon.classList.add('view-icon', 'fas', 'fa-eye');
            viewIcon.setAttribute('onclick', `viewImage('${image.src}')`);
            const viewTooltip = document.createElement('div');
            viewTooltip.classList.add('tooltip');
            viewTooltip.textContent = 'View';
            viewContainer.appendChild(viewIcon);
            viewContainer.appendChild(viewTooltip);

            // Download Icon
            const downloadContainer = document.createElement('div');
            downloadContainer.classList.add('icon-container');
            const downloadIcon = document.createElement('i');
            downloadIcon.classList.add('download-icon', 'fas', 'fa-download');
            downloadIcon.setAttribute('onclick', `downloadImage('${image.src}')`);
            const downloadTooltip = document.createElement('div');
            downloadTooltip.classList.add('tooltip');
            downloadTooltip.textContent = 'Download';
            downloadContainer.appendChild(downloadIcon);
            downloadContainer.appendChild(downloadTooltip);

            buttonGroup.appendChild(heartContainer);
            buttonGroup.appendChild(viewContainer);
            buttonGroup.appendChild(downloadContainer);

            imageBox.appendChild(img);
            imageBox.appendChild(buttonGroup);

            imageContainer.appendChild(imageBox);
        });

        // Add event listeners for heart icons after rendering
        addHeartEventListeners();
    }

    // Function to add event listeners to heart icons
    function addHeartEventListeners() {
        document.querySelectorAll('.heart-icon').forEach(icon => {
            icon.addEventListener('click', function (e) {
                e.stopPropagation(); // Prevent event bubbling to imageContainer
                const imageBox = this.closest('.image-box');
                const imageId = imageBox.getAttribute('data-id');

                if (this.classList.contains('filled')) {
                    this.classList.remove('filled');
                    imageBox.classList.remove('selected');
                    selectedImages = selectedImages.filter(id => id !== imageId);
                } else {
                    this.classList.add('filled');
                    imageBox.classList.add('selected');
                    selectedImages.push(imageId);
                }

                localStorage.setItem('selectedImages', JSON.stringify(selectedImages));
                updateSelectedImagesContainer();
            });
        });
    }

    // Function to setup pagination buttons
    function setupPagination() {
        const pagination = document.getElementById("pagination");
        const totalPages = Math.ceil(images.length / imagesPerPage);

        pagination.innerHTML = "";

        for (let i = 1; i <= totalPages; i++) {
            const pageButton = document.createElement("button");
            pageButton.innerText = i;
            pageButton.className = "page-btn";
            if (i === currentPage) pageButton.classList.add("active");
            pageButton.addEventListener("click", () => {
                currentPage = i;
                displayImages(currentPage);
                setupPagination();
            });
            pagination.appendChild(pageButton);
        }
    }

    // Function to update selected images container
    function updateSelectedImagesContainer() {
        const selectedImagesContainer = document.getElementById('selectedImagesContainer');
        selectedImagesContainer.innerHTML = '';

        if (selectedImages.length === 0) {
            selectedImagesContainer.innerHTML = '<p class="no-images">No images selected</p>';
        } else {
            selectedImages.forEach(imageId => {
                const image = images.find(img => img.id === imageId);
                if (image) {
                    const imageBox = document.createElement('div');
                    imageBox.classList.add('image-box', 'selected-image');
                    imageBox.setAttribute('data-id', image.id);

                    const img = document.createElement('img');
                    img.src = image.src;
                    img.alt = image.alt;
                    img.addEventListener('contextmenu', function (e) {
                        e.preventDefault();
                    });

                    const buttonGroup = document.createElement('div');
                    buttonGroup.classList.add('button-group');
                    

                    // View Button
                    const viewIconContainer = document.createElement('div');
                    viewIconContainer.classList.add('icon-container');
                    const viewIcon = document.createElement('i');
                    viewIcon.classList.add('view-icon', 'fas', 'fa-eye');
                    viewIcon.addEventListener('click', () => viewImage(imageBox.querySelector('img').src));
                    const viewTooltip = document.createElement('div');
                    viewTooltip.classList.add('tooltip');
                    viewTooltip.textContent = 'View';
                    viewIconContainer.appendChild(viewIcon);
                    viewIconContainer.appendChild(viewTooltip);
                    buttonGroup.appendChild(viewIconContainer);

                    // Download Button
                    const downloadIconContainer = document.createElement('div');
                    downloadIconContainer.classList.add('icon-container');
                    const downloadIcon = document.createElement('i');
                    downloadIcon.classList.add('download-icon', 'fas', 'fa-download');
                    downloadIcon.addEventListener('click', () => downloadImage(imageBox.querySelector('img').src));
                    const downloadTooltip = document.createElement('div');
                    downloadTooltip.classList.add('tooltip');
                    downloadTooltip.textContent = 'Download';
                    downloadIconContainer.appendChild(downloadIcon);
                    downloadIconContainer.appendChild(downloadTooltip);
                    buttonGroup.appendChild(downloadIconContainer);

                    // Remove Icon
                    const removeContainer = document.createElement('div');
                    removeContainer.classList.add('icon-container');
                    const removeIcon = document.createElement('i');
                    removeIcon.classList.add('remove-icon', 'fas', 'fa-times');
                    removeIcon.addEventListener('click', () => removeSelectedImage(image.id));
                    const removeTooltip = document.createElement('div');
                    removeTooltip.classList.add('tooltip');
                    removeTooltip.textContent = 'Remove';
                    removeContainer.appendChild(removeIcon);
                    removeContainer.appendChild(removeTooltip);

                    buttonGroup.appendChild(removeContainer);

                    imageBox.appendChild(img);
                    imageBox.appendChild(buttonGroup);

                    selectedImagesContainer.appendChild(imageBox);
                }
            });
        }
    }

    // Function to remove selected image
    function removeSelectedImage(imageId) {
        selectedImages = selectedImages.filter(id => id !== imageId);
        localStorage.setItem('selectedImages', JSON.stringify(selectedImages));
        updateSelectedImagesContainer();
        // Update heart icon in main image container if the image is on the current page
        const imageBox = document.querySelector(`.image-box[data-id="${imageId}"]`);
        if (imageBox) {
            imageBox.classList.remove('selected');
            const heartIcon = imageBox.querySelector('.heart-icon');
            if (heartIcon) {
                heartIcon.classList.remove('filled');
            }
        }
    }

    // Function to save selection
    function saveSelection() {
        alert("Selected images saved!");
        // Implement save functionality here (e.g., send to server)
    }

    // Function to view image in fullscreen
    function viewImage(imageUrl) {
        const fullscreenOverlay = document.getElementById('fullscreenOverlay');
        const fullscreenImage = document.getElementById('fullscreenImage');

        fullscreenImage.src = imageUrl;
        fullscreenOverlay.style.display = 'flex';
        fullscreenImage.addEventListener('contextmenu', function (e) {
            e.preventDefault();
        });
    }

    // Function to close fullscreen view
    function closeFullscreen() {
        const fullscreenOverlay = document.getElementById('fullscreenOverlay');
        fullscreenOverlay.style.display = 'none';
    }

    // Function to download image
    function downloadImage(imageUrl) {
        const a = document.createElement('a');
        a.href = imageUrl;
        a.download = imageUrl.split('/').pop();
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);

        alert("Download initiated for " + a.download);
    }

    // Function to prevent right-click context menu on specific elements
    function preventRightClick() {
        const elements = [
            document.getElementById('imageContainer'),
            document.getElementById('selectedImagesContainer'),
            ...document.querySelectorAll('.image-box img'),
            document.getElementById('fullscreenOverlay')
        ];

        elements.forEach(element => {
            if (element) {
                element.addEventListener('contextmenu', function (e) {
                    e.preventDefault();
                });
            }
        });
    }

    // Function to prevent screenshot functionality
    function preventScreenshots() {
        document.addEventListener('keydown', function (e) {
            if (e.key === 'PrintScreen' || (e.ctrlKey && (e.key === 'p' || e.key === 's'))) {
                e.preventDefault();
                alert("Screenshots are disabled.");
            }
        });

        // Attempt to prevent some screenshot methods
        document.addEventListener('keydown', function (e) {
            if ((e.ctrlKey || e.altKey) && e.key === 'PrintScreen') {
                e.preventDefault();
                alert('Screenshots are not allowed on this page.');
            }
        });

        document.addEventListener('keydown', function (e) {
            if (e.key === 'PrintScreen') {
                alert('Screenshots are not allowed on this page.');
            }
        });
    }
</script>
</body>
</html>
